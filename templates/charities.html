{% extends "base.html" %}

{% block hero %}
<div class="hero-grid">
    <div class="hero-copy">
        <p class="eyebrow">Collective care</p>
        <h1>Charities fueling brighter mental health futures.</h1>
        <p class="lede">Discover organizations bringing crisis help, counseling, advocacy, and education to communities around the world. Each one was chosen for impact and heart.</p>
        <div class="cta-row">
            <a class="btn" href="#charity-list">Browse charities</a>
            <a class="btn ghost" href="{{ url_for('admin') }}">Add via admin</a>
        </div>
    </div>
    <div class="hero-panel hero-image">
        <img src="https://files.catbox.moe/4v5qkq.png" alt="Illustration of community support" />
    </div>
</div>
{% endblock %}

{% block content %}
<section id="charity-list" class="panel charity-panel">
    <div class="panel-header">
        <p class="eyebrow">Spotlight</p>
        <h2>Organizations making support accessible.</h2>
        <p class="lede">This living gallery grows through the admin dashboard, so you can keep lifting up the missions that resonate most.</p>
    </div>
    <div class="table-scroll charity-table-wrapper">
        <table class="charity-table">
            <caption class="sr-only">Charities and the services they provide</caption>
            <thead>
                <tr>
                    <th scope="col">Organization</th>
                    {% for aspect in charity_aspects %}
                    <th scope="col">{{ aspect }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for charity in charities %}
                <tr>
                    <td>
                        <div class="charity-table-cell">
                            <div class="charity-logo small" aria-hidden="true">
                                <img src="{{ charity.logo_url }}" alt="{{ charity.name }} logo" loading="lazy" />
                            </div>
                            <div>
                                <div class="table-title">{{ charity.name }}</div>
                                <p class="body">{{ charity.description }}</p>
                                <a class="inline-link" href="{{ charity.site_url }}" target="_blank" rel="noopener">Visit website</a>
                            </div>
                        </div>
                    </td>
                    {% for aspect in charity_aspects %}
                    <td class="charity-availability">
                        {% if charity.aspects and charity.aspects.get(aspect) %}
                        <span class="tick" aria-label="Yes">✓</span>
                        {% else %}
                        <span class="dash" aria-label="No">—</span>
                        {% endif %}
                    </td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}
