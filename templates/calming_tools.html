{% extends "base.html" %}

{% block hero %}
<div class="hero-grid compact">
    <div class="hero-copy">
        <p class="eyebrow">Find your calm</p>
        <h1>Guided practices to steady your breath and body.</h1>
        <p class="lede">Use these quick sequences during stressful moments. Each one can be done quietly at your desk, in a waiting room, or wherever you are.</p>
        <div class="cta-row">
            <a class="btn" href="#tools">Try a practice</a>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="section-guide" aria-label="Calming practice navigation">
    <div class="section-guide__copy">
        <p class="eyebrow">Choose your path</p>
        <h2>Pick the practice that fits how you feel right now.</h2>
        <p class="body">Jump straight to breath pacing, body relaxation, or simple step-by-step exercises.</p>
    </div>
    <div class="section-guide__links">
        <a class="pill" href="#interactive-calm">Breath flow</a>
        <a class="pill ghost" href="#pmr">Muscle relaxer</a>
        <a class="pill ghost" href="#tools">Quick exercises</a>
    </div>
</section>

<section class="panel immersive-panel" id="interactive-calm">
    <div class="immersive-grid">
        <div class="immersive-copy">
            <p class="eyebrow">Interactive</p>
            <h2>Light, fluid breathwork you can dial in.</h2>
            <p class="lede">Set a soft rhythm, then glide through each inhale, pause, and exhale with gentle cues. Keep the cards minimal, so the breathing itself stays in focus.</p>
            <div class="control-stack duo">
                <div class="control-card slim">
                    <div class="control-card__header">
                        <p class="eyebrow muted">Timing</p>
                        <p class="microcopy" data-cycle-preview>4s inhale • 2s hold • 5s exhale • 2s hold</p>
                    </div>
                    <div class="control-row refined compact">
                        <label class="control">
                            <span>Inhale (seconds)</span>
                            <input type="number" min="1" max="20" value="4" step="0.5" data-inhale-input />
                            <span class="value">Lengthen the in-breath.</span>
                        </label>
                        <label class="control">
                            <span>Hold (seconds)</span>
                            <input type="number" min="0" max="20" value="2" step="0.5" data-hold-input />
                            <span class="value">Linger lightly at the top.</span>
                        </label>
                        <label class="control">
                            <span>Exhale (seconds)</span>
                            <input type="number" min="1" max="20" value="5" step="0.5" data-exhale-input />
                            <span class="value">Let the breath drift out.</span>
                        </label>
                    </div>
                </div>
                <div class="control-card slim">
                    <div class="control-card__header">
                        <p class="eyebrow muted">Session feel</p>
                        <p class="microcopy">Keep the visuals steady and grounded.</p>
                    </div>
                    <div class="control-row refined compact">
                        <label class="control">
                            <span>Session length (minutes)</span>
                            <input type="number" min="1" max="30" value="5" step="1" data-session-input />
                            <span class="value" data-session-remaining>5:00 remaining</span>
                        </label>
                        <label class="control">
                            <span>Wave intensity</span>
                            <input type="range" min="0.8" max="1.4" value="1" step="0.1" data-wave-range />
                            <span class="value" data-wave-value>Balanced</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="cta-row">
                <button class="btn" type="button" data-calm-start>Start flow</button>
                <button class="btn ghost" type="button" data-calm-reset>Reset</button>
            </div>
            <p class="body" data-affirmation>Pick timing that feels supportive and press “Start flow.”</p>
        </div>
        <div class="immersive-visual">
            <div class="pulse-ring" data-pulse-ring></div>
            <div class="phase-label" data-phase-label>Ready when you are</div>
            <div class="phase-timeline" data-phase-timeline>
                <span class="chip">Inhale</span>
                <span class="chip">Hold</span>
                <span class="chip">Exhale</span>
                <span class="chip">Hold</span>
            </div>
        </div>
    </div>
</section>

<section class="panel pmr" id="pmr">
    <div class="pmr-grid">
        <div class="pmr-copy">
            <p class="eyebrow">Body-led calm</p>
            <h2>Progressive Muscle Relaxation</h2>
            <p class="lede">Travel from your toes to your forehead with gentle squeezes and soft releases. Each zone glows for six seconds as you go, so you can settle into a quick, soothing ritual.</p>
            <div class="cta-row">
                <button class="btn" type="button" data-pmr-start>Start 72-second flow</button>
                <button class="btn ghost" type="button" data-pmr-reset>Reset</button>
            </div>
            <div class="pmr-status">
                <div>
                    <p class="microcopy muted">Current focus</p>
                    <p class="body" data-pmr-status>Ready when you are.</p>
                </div>
                <div class="pmr-timer" data-pmr-countdown>01:12</div>
            </div>
            <ol class="pmr-steps">
                <li data-step="feet">Feet &amp; toes</li>
                <li data-step="calves">Calves</li>
                <li data-step="thighs">Thighs</li>
                <li data-step="hips">Hips &amp; glutes</li>
                <li data-step="core">Belly &amp; lower back</li>
                <li data-step="chest">Chest &amp; upper back</li>
                <li data-step="hands">Hands</li>
                <li data-step="forearms">Forearms</li>
                <li data-step="upper-arms">Upper arms</li>
                <li data-step="shoulders">Shoulders</li>
                <li data-step="neck">Neck</li>
                <li data-step="face">Jaw &amp; face</li>
            </ol>
        </div>
        <div class="pmr-visual elevated">
            <div class="pmr-backdrop"></div>
            <svg class="pmr-figure" viewBox="0 0 200 520" role="img" aria-label="Human outline highlighting muscle groups">
                <defs>
                    <linearGradient id="pmr-sheen" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#8ef3c5" stop-opacity="0.9" />
                        <stop offset="100%" stop-color="#45c78d" stop-opacity="0.9" />
                    </linearGradient>
                </defs>
                <g class="figure-core">
                    <rect data-muscle="face" x="80" y="32" width="40" height="52" rx="18" />
                    <rect data-muscle="neck" x="90" y="84" width="20" height="26" rx="6" />
                    <rect data-muscle="shoulders" x="60" y="108" width="80" height="30" rx="16" />
                    <rect data-muscle="chest" x="68" y="134" width="64" height="54" rx="16" />
                    <rect data-muscle="core" x="74" y="188" width="52" height="74" rx="12" />
                    <rect data-muscle="hips" x="70" y="262" width="60" height="38" rx="14" />
                    <rect data-muscle="thighs" x="74" y="300" width="24" height="110" rx="14" />
                    <rect data-muscle="thighs" x="102" y="300" width="24" height="110" rx="14" />
                    <rect data-muscle="calves" x="74" y="410" width="24" height="80" rx="12" />
                    <rect data-muscle="calves" x="102" y="410" width="24" height="80" rx="12" />
                    <rect data-muscle="feet" x="68" y="490" width="32" height="18" rx="8" />
                    <rect data-muscle="feet" x="100" y="490" width="32" height="18" rx="8" />
                </g>
                <g class="figure-limbs">
                    <rect data-muscle="upper-arms" x="40" y="128" width="20" height="64" rx="10" />
                    <rect data-muscle="upper-arms" x="140" y="128" width="20" height="64" rx="10" />
                    <rect data-muscle="forearms" x="34" y="192" width="18" height="70" rx="9" />
                    <rect data-muscle="forearms" x="148" y="192" width="18" height="70" rx="9" />
                    <rect data-muscle="hands" x="30" y="262" width="26" height="28" rx="10" />
                    <rect data-muscle="hands" x="144" y="262" width="26" height="28" rx="10" />
                </g>
                <g class="figure-outline" fill="none" stroke="#d9c8f5" stroke-width="6" stroke-linecap="round">
                    <path d="M100 18c-14 0-22 8-22 22s8 26 22 26 22-12 22-26S114 18 100 18z" />
                    <path d="M74 66c-10 9-18 22-18 36 0 18 12 32 30 32h28c18 0 30-14 30-32 0-14-8-27-18-36" />
                    <path d="M70 118c-22 14-34 36-34 62 0 34 28 64 64 64s64-30 64-64c0-26-12-48-34-62" />
                    <path d="M72 242c-18 14-28 34-28 56 0 42 30 96 56 96s56-54 56-96c0-22-10-42-28-56" />
                </g>
            </svg>
        </div>
    </div>
</section>

<section class="section-guide lite" aria-label="Quick exercise overview">
    <div class="section-guide__copy">
        <p class="eyebrow">Quick wins</p>
        <h2>Short exercises you can scroll to instantly.</h2>
        <p class="body">Pick a card below to see the steps. Everything is laid out so you can drop in and start without hunting for the right spot.</p>
    </div>
    <div class="section-guide__links">
        <a class="pill" href="#interactive-calm">Breath flow</a>
        <a class="pill ghost" href="#pmr">Muscle relaxer</a>
    </div>
</section>

<section id="tools" class="resource-grid tools-grid">
    {% for tool in tools %}
    <article class="resource-card">
        <div class="card-header">
            <div class="dot"></div>
            <h3>{{ tool.title }}</h3>
        </div>
        <p class="body">{{ tool.description }}</p>
        <ol class="breath">
            {% for step in tool.steps %}
            <li>{{ step }}</li>
            {% endfor %}
        </ol>
    </article>
    {% endfor %}
</section>
{% endblock %}
