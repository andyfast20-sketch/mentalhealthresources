{% extends "base.html" %}

{% block hero %}
<div class="hero-grid">
    <div class="hero-copy">
        <p class="eyebrow">Shelf of support</p>
        <h1>Books to deepen care and understanding.</h1>
        <p class="lede">Browse handpicked titles with affiliate links that help sustain this resource hub. Each book is chosen for clarity, compassion, and practical tools.</p>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="panel book-panel">
    <div class="panel-header">
        <p class="eyebrow">Full list</p>
        <h2>Every recommended read.</h2>
        <p class="lede">Add your own selections from the admin dashboard. Visitors can explore descriptions and click through to purchase.</p>
    </div>
    <div class="book-grid">
        {% for book in books %}
        <article
            class="book-card"
            data-book-index="{{ book.index }}"
            data-book-slug="{{ book.slug }}"
            data-book-title="{{ book.title }}"
            data-book-author="{{ book.author }}"
            data-book-description="{{ book.description }}"
            data-book-cover="{{ book.cover_url }}"
            data-book-link="{{ book.affiliate_url }}"
        >
            <div class="book-cover" aria-hidden="true">
                {% if book.cover_url %}
                <img src="{{ book.cover_url }}" alt="{{ book.title }} cover" loading="lazy" />
                {% else %}
                <div class="cover-placeholder">ðŸ“–</div>
                {% endif %}
            </div>
            <div class="book-meta">
                <div class="book-meta-header">
                    <p class="eyebrow">{{ book.author }}</p>
                    <span class="pill tiny ghost book-view-pill">{{ book.view_count }} views</span>
                </div>
                {% if book.is_most_viewed %}
                <span class="pill tiny">Most Viewed</span>
                {% endif %}
                <h3>{{ book.title }}</h3>
                <p class="body book-description">{{ book.description }}</p>
            </div>
            <div class="book-actions">
                <button class="btn tiny" type="button" data-book-trigger aria-expanded="false">View book</button>
                <div class="halo"></div>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% endblock %}
